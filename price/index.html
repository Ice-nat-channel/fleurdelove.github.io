<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Fleur de Love | Flower Shop</title>
  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="icon" href="../icon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="../icon.ico">
</head>
<body>
  <a class="skip-link" href="#price">Skip to content</a>

<header>
  <h1>Fleur de Love</h1>
  <p>ดอกไม้แทนความรู้สึก ส่งต่อความรักในทุกโอกาส</p>
</header>

<nav class="site-nav" aria-label="Main navigation">
  <div class="nav-inner">
    <button type="button" class="nav-toggle" aria-expanded="false" aria-controls="primary-navigation" aria-label="Open navigation">
      <span class="hamburger" aria-hidden="true"></span>
    </button>
    <div id="primary-navigation" class="nav-links" aria-hidden="true">
      <a href="../home/">Home</a>
      <a href="../price/">Price</a>
      <a href="../gallery/">Gallery</a>
      <a href="../contact/">Contact</a>
    </div>
  </div>
</nav>

<main class="page-content">

<section id="price" class="full-viewport">
  <div class="card">
    <h2>Rose</h2>
    <ul class="price-list" aria-label="Rose prices">
      <li><span class="price-qty">1 ดอก</span><span class="price-amt">49 บาท</span></li>
      <li><span class="price-qty">3 ดอก</span><span class="price-amt">145 บาท</span></li>
      <li><span class="price-qty">5 ดอก</span><span class="price-amt">240 บาท</span></li>
      <li><span class="price-qty">7 ดอก</span><span class="price-amt">330 บาท</span></li>
    </ul>
  </div>

  <div class="card">
    <h2>Velvet Wire</h2>
    <ul class="price-list" aria-label="Velvet Wire prices">
      <li><span class="price-qty">1 ดอก</span><span class="price-amt">49 บาท</span></li>
      <li><span class="price-qty">3 ดอก</span><span class="price-amt">150 บาท</span></li>
      <li><span class="price-qty">5 ดอก</span><span class="price-amt">245 บาท</span></li>
    </ul>
  </div>

  <div class="card">
    <h2>Decorations</h2>
    <ul class="price-list" aria-label="Decorations">
      <li><span class="price-qty">มุก<br><br>ฟิล์ม<br><br>ริบบิ้น<br><br>ออปชั่นตกแต่งอื่นๆ</span><span class="price-amt">เริ่มต้น 5 - 9 บาท</span></li>
    </ul>
  </div>
</section>

</main>

<footer>
  © 2026 Fleur de Love | By N.Parin
</footer>

<script>
  window.addEventListener('DOMContentLoaded', function() {
    document.documentElement.classList.add('is-loaded');
  });
</script>

<script>
  (function(){
    const btn = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.site-nav .nav-links');
    if (!btn || !nav) return;
    function openNav(){ console.log('[nav] openNav called'); nav.classList.add('visible'); nav.setAttribute('aria-hidden','false'); btn.setAttribute('aria-expanded','true'); document.documentElement.classList.add('menu-open'); btn.classList.add('toggled'); const first = nav.querySelector('a'); if (first && window.matchMedia && window.matchMedia('(hover: hover)').matches) first.focus(); console.log('[nav] visible after open', nav.classList.contains('visible')); }
    function closeNav(){ console.log('[nav] closeNav called'); nav.classList.remove('visible'); nav.setAttribute('aria-hidden','true'); btn.setAttribute('aria-expanded','false'); document.documentElement.classList.remove('menu-open'); btn.classList.remove('toggled'); btn.focus(); console.log('[nav] visible after close', nav.classList.contains('visible')); }
    btn.addEventListener('click', function(e){ console.log('[nav] toggle click', e.target); e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation(); btn.classList.add('clicked'); setTimeout(() => btn.classList.remove('clicked'), 360); if (nav.classList.contains('visible')) { closeNav(); } else { openNav(); } }, true);
    document.addEventListener('click', function(e){ console.log('[nav] document click', e.target); if (!nav.contains(e.target) && !btn.contains(e.target)) closeNav(); });
    document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeNav(); });
    function checkWidth(){ if (window.matchMedia('(min-width:700px)').matches){ nav.classList.remove('visible'); nav.setAttribute('aria-hidden','false'); btn.setAttribute('aria-expanded','false'); document.documentElement.classList.remove('menu-open'); } else { nav.setAttribute('aria-hidden','true'); } }
    window.addEventListener('resize', checkWidth);
    checkWidth();
  })();
</script>

<!-- Click sound: plays a short click on interactive elements -->
<script>
  (function(){
    if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    const src = '/assets/click.mp3';
    const poolSize = 6;
    const pool = [];
    for (let i=0;i<poolSize;i++){ const a = new Audio(src); a.preload='auto'; a.volume=0.45; pool.push(a); }
    let idx = 0;
    function play(){ try{ const a = pool[idx]; a.currentTime = 0; a.play(); idx = (idx+1)%poolSize; }catch(e){console.warn('click audio failed', e)} }
    const selector = 'a, button, .btn, [role="button"], input[type="button"], input[type="submit"], .gallery-item';

    document.addEventListener('click', function(e){
      if (e.button !== 0) return;
      if (e.defaultPrevented) return;
      if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;
      const el = e.target.closest(selector);
      if (!el) return;
      if (el.classList && el.classList.contains('nav-toggle')) return; 

      // For same-origin navigation, delay navigation slightly so sound can play
      if (el.tagName === 'A' && el.href) {
        try {
          const url = new URL(el.href, location.href);
          const isSameOrigin = url.origin === location.origin;
          const isHashOnly = url.pathname === location.pathname && url.hash;
          const isExternal = el.target === '_blank' || el.hasAttribute('download');
          if (isSameOrigin && !isHashOnly && !isExternal) {
            e.preventDefault();
            play();
            setTimeout(() => { location.href = url.href; }, 160);
            return;
          }
        } catch(e) {}
      }

      play();
    }, true);

    // Keyboard activation (Enter / Space)
    document.addEventListener('keydown', function(e){
      if (e.defaultPrevented) return;
      if (e.key !== 'Enter' && e.key !== ' ') return;
      const el = document.activeElement;
      if (!el || !el.matches(selector)) return;

      if (el.tagName === 'A' && el.href) {
        try {
          const url = new URL(el.href, location.href);
          const isSameOrigin = url.origin === location.origin;
          const isHashOnly = url.pathname === location.pathname && url.hash;
          const isExternal = el.target === '_blank' || el.hasAttribute('download');
          if (isSameOrigin && !isHashOnly && !isExternal) {
            e.preventDefault();
            play();
            setTimeout(() => { location.href = url.href; }, 160);
            return;
          }
        } catch(e) {}
      }

      play();
    }, true);

  })();
</script>

</body>
</html>
